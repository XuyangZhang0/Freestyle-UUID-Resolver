<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UUID Resolver</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <div class="sidepanel-container">
    <!-- Header -->
    <div class="header">
      <div class="title">
        <h1>UUID Resolver</h1>
        <div class="status-indicator">
          <span class="status-dot" id="statusDot"></span>
          <span class="status-text" id="statusText">Initializing...</span>
        </div>
      </div>
    </div>

    <!-- Quick Stats -->
    <div class="stats-section">
      <div class="stat-item">
        <span class="stat-label">UUIDs Found:</span>
        <span class="stat-value" id="uuidCount">0</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Resolved:</span>
        <span class="stat-value" id="resolvedCount">0</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Cache Hits:</span>
        <span class="stat-value" id="cacheHits">0</span>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="actions-section">
      <button id="refreshBtn" class="action-btn primary">
        <span class="btn-icon">üîÑ</span>
        Refresh Resolution
      </button>
      <button id="clearCacheBtn" class="action-btn secondary">
        <span class="btn-icon">üóëÔ∏è</span>
        Clear Cache
      </button>
    </div>

    <!-- Settings Section -->
    <div class="settings-section">
      <div class="section-header">
        <h2>Settings</h2>
        <span class="unsaved-indicator" id="unsavedIndicator">‚óè</span>
      </div>

      <!-- Server Configuration -->
      <div class="settings-group">
        <h3>Server Configuration</h3>
        
        <div class="form-group">
          <label for="serverUrl">UEM Server URL:</label>
          <input type="url" id="serverUrl" placeholder="https://your-server.data.workspaceone.com">
          <small>Enter your Workspace ONE UEM server URL</small>
        </div>

        <div class="form-group">
          <label for="authType">Authentication Type:</label>
          <select id="authType">
            <option value="basic">Basic Authentication</option>
            <option value="oauth">OAuth 2.0</option>
          </select>
        </div>
      </div>

      <!-- Basic Authentication -->
      <div class="settings-group" id="basicAuthGroup">
        <h3>Basic Authentication</h3>
        
        <div class="form-group">
          <label for="username">Username:</label>
          <input type="text" id="username" placeholder="admin">
        </div>

        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" id="password" placeholder="Password">
        </div>

        <div class="form-group">
          <label for="apiKey">API Key (Optional):</label>
          <input type="text" id="apiKey" placeholder="Organization Group ID">
          <small>Your organization's API key or tenant code</small>
        </div>
      </div>

      <!-- OAuth Authentication -->
      <div class="settings-group" id="oauthGroup" style="display: none;">
        <h3>OAuth 2.0 Configuration</h3>
        
        <div class="form-group">
          <label for="clientId">Client ID:</label>
          <input type="text" id="clientId" placeholder="your-client-id">
        </div>

        <div class="form-group">
          <label for="clientSecret">Client Secret:</label>
          <input type="password" id="clientSecret" placeholder="your-client-secret">
        </div>

        <div class="form-group">
          <label for="tokenUrl">Token URL:</label>
          <input type="url" id="tokenUrl" placeholder="https://your-identity-server.com/oauth/token">
        </div>

        <div class="form-group">
          <label for="authToken">Current Token:</label>
          <input type="text" id="authToken" readonly placeholder="Token will appear here after connection test">
          <small>This token is automatically managed</small>
        </div>
      </div>

      <!-- General Settings -->
      <div class="settings-group">
        <h3>General Settings</h3>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="enabled">
            <span class="checkmark"></span>
            Enable UUID Resolution
          </label>
        </div>

        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="autoRefresh">
            <span class="checkmark"></span>
            Auto-refresh when page loads
          </label>
        </div>

        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="showTooltips">
            <span class="checkmark"></span>
            Show detailed tooltips
          </label>
        </div>
      </div>

      <!-- Entity Types -->
      <div class="settings-group">
        <h3>Entity Types to Resolve</h3>
        
        <div class="entity-types-grid">
          <label class="checkbox-label">
            <input type="checkbox" id="entityTag" checked>
            <span class="checkmark"></span>
            Tags
          </label>
          
          <label class="checkbox-label">
            <input type="checkbox" id="entityApplication" checked>
            <span class="checkmark"></span>
            Applications
          </label>
          
          <label class="checkbox-label">
            <input type="checkbox" id="entityProfile" checked>
            <span class="checkmark"></span>
            Profiles
          </label>
          
          <label class="checkbox-label">
            <input type="checkbox" id="entityScript" checked>
            <span class="checkmark"></span>
            Scripts
          </label>
          
          <label class="checkbox-label">
            <input type="checkbox" id="entityProduct" checked>
            <span class="checkmark"></span>
            Products
          </label>
          
          <label class="checkbox-label">
            <input type="checkbox" id="entityOrganizationGroup" checked>
            <span class="checkmark"></span>
            Organization Groups
          </label>
        </div>
      </div>

      <!-- Test Connection -->
      <div class="settings-group">
        <button id="testConnectionBtn" class="test-btn">
          <span class="btn-icon">üîß</span>
          Test Connection
        </button>
        <div class="test-result" id="testResult"></div>
      </div>
    </div>

    <!-- Save Status -->
    <div class="save-status" id="saveStatus"></div>
  </div>

  <script src="sidepanel.js"></script>
</body>
</html>
